<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="css.css" rel="stylesheet" type="text/css">
    <title></title>
</head>
<body>

<div id="game"  >
  <div class="mid">
      <div class="cover">
          <img src="o.png" id="o"  >
      </div>
      <div class="cover">
          <img src="i.png"  id="i" >
      </div>

      <div class="cover">
          <img src="s.png"   >
      </div>
      <div class="btn" id="start">
          开始
      </div>

  </div>
</div>
<script src="http://libs.baidu.com/zepto/0.8/zepto.min.js"></script>
<script>
    var a1=['失足的','一见钟情的','出柜的','看破红尘的','心怀不轨的','暗恋你的'];
    var a2=['舍友','班主任','路人','店老板','前任','班长'];
    var b=true;
    $(function(){
        function adjust(){
            var h=$('#o').height()+100;
            h=h+'px';
            console.log(h);
            $('#start').css('margin-top',h);

        }
        adjust()
        function suan(k){
            var s1= k.split('(')[1];
            var s2=s1.split(')')[0]
            var s=s2.split(',');
            //console.log(s);
            var k1=parseFloat(s[0].substr(0, 7));
            var k2=parseFloat(s[1].substr(0, 7));
            var d1=Math.asin(k2)*(180/Math.PI);

            if(k1>0){
                d1=360+d1;
            }

            if(k1<0){
                d1=180-d1;
            }
            d1=d1+1;
            if(d1>=360){
                d1=d1-360;
            }

            return(d1);
        }
        function suan2(k){
            var s1= k.split('(')[1];
            var s2=s1.split(')')[0]
            var s=s2.split(',');
            console.log(s);
            var k1=parseFloat(s[0].substr(0, 7));

            var k2=parseFloat(s[1].substr(0, 7))*(-1);
            var d1=Math.asin(k2)*(180/Math.PI);

            if(k1>0){
                d1=360+d1;
            }

            if(k1<0){
                d1=180-d1;
            }
            d1=d1+26;
            if(d1>=360){
                d1=d1-360;
            }

            return(d1)
        }
        $('#start').click(function(){
            //console.log(b);
            if(b){
                $("#o").removeClass('paused');
                $("#i").removeClass('paused');
                $("#o").addClass('xuanzhuan1');
                $("#i").addClass('xuanzhuan2');
                //$('#start').addClass('btnActive')
                b=!b;
            }else{
                $("#o").addClass('paused');
                $("#i").addClass('paused');
                b=!b;
                var d1=$('#o').css('transform');
                var d2=$('#i').css('transform');

                //console.log(suan(d1))
                var n1=Math.floor(suan(d1)/60);
                suan2(d2)
                var n2=Math.floor(suan2(d2)/60);
                //console.log(suan(d2))
                console.log(a1[n1]+a2[n2]);
            }
        })
    })
</script>
</body>
</html>